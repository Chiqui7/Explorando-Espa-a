<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Viajes Espa√±a IA ¬∑ Tu viaje perfecto por Espa√±a</title>
  <style>
    :root {
      --primary: #2563eb;
      --primary-soft: #dbeafe;
      --accent: #16a34a;
      --bg: #f4f4f7;
      --text: #0f172a;
      --muted: #6b7280;
      --border: #e5e7eb;
      --card-radius: 18px;
    }

    * { box-sizing: border-box; scroll-behavior: smooth; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #e5edff 0, #f4f4f7 50%, #e5e7eb 100%);
      color: var(--text);
      line-height: 1.6;
    }

    a { color: inherit; text-decoration: none; }

    header {
      position: sticky;
      top: 0;
      z-index: 20;
      border-bottom: 1px solid var(--border);
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
    }

    .header-inner {
      max-width: 1040px;
      margin: 0 auto;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-logo {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: radial-gradient(circle at 20% 20%, #bfdbfe, #2563eb);
      box-shadow: 0 8px 18px rgba(37,99,235,0.4);
    }

    .brand-text-main {
      font-weight: 650;
      letter-spacing: 0.06em;
      font-size: 0.85rem;
      text-transform: uppercase;
    }

    .brand-text-sub {
      font-size: 0.75rem;
      color: var(--muted);
    }

    .header-cta a {
      font-size: 0.8rem;
      border-radius: 999px;
      padding: 6px 14px;
      border: 1px solid var(--border);
      background: #ffffff;
      color: var(--primary);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .hero {
      max-width: 1040px;
      margin: 0 auto;
      padding: 20px 16px 10px;
    }

    .hero-top {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 16px;
      align-items: center;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 0.78rem;
      padding: 5px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,0.9);
      border: 1px solid var(--border);
      color: var(--muted);
    }

    .hero h1 {
      margin: 4px 0 8px;
      font-size: clamp(1.9rem, 3vw, 2.4rem);
      letter-spacing: 0.01em;
    }

    .hero p.lead {
      margin: 0;
      max-width: 600px;
      font-size: 0.98rem;
      color: var(--muted);
    }

    .hero-actions {
      margin-top: 16px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 9px 18px;
      font-size: 0.92rem;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      color: #ffffff;
      box-shadow: 0 10px 22px rgba(37,99,235,0.45);
    }

    .btn-ghost {
      background: rgba(255,255,255,0.9);
      color: var(--text);
      border: 1px solid var(--border);
    }

    main {
      max-width: 1040px;
      margin: 0 auto;
      padding: 10px 16px 40px;
    }

    section { margin-bottom: 26px; }

    /* Layout mapa + panel */
    .layout {
      display: grid;
      grid-template-columns: minmax(260px, 410px) minmax(260px, 1fr);
      gap: 22px;
      align-items: flex-start;
      margin-top: 10px;
    }

    .card {
      border-radius: var(--card-radius);
      background: #ffffff;
      border: 1px solid var(--border);
      padding: 16px 16px 18px;
      box-shadow: 0 16px 32px rgba(15,23,42,0.06);
      font-size: 0.9rem;
      color: var(--muted);
    }

    .card h2 {
      margin: 0 0 8px;
      font-size: 1.05rem;
      color: var(--text);
    }

    .card h3 {
      margin: 0 0 6px;
      font-size: 0.98rem;
      color: var(--text);
    }

    .card small { font-size: 0.8rem; }

    .map-canvas {
      position: relative;
      border-radius: 16px;
      background: radial-gradient(circle at 20% 0%, #e0edff, #bfdbfe, #93c5fd);
      border: 1px solid #bfdbfe;
      aspect-ratio: 4 / 3;
      overflow: hidden;
      padding: 6px;
    }

    .map-canvas::before {
      content: "Espa√±a ¬∑ Comunidades aut√≥nomas (demo)";
      position: absolute;
      top: 8px;
      left: 10px;
      font-size: 0.72rem;
      color: #1e293b;
      opacity: 0.9;
    }

    .map-region {
      position: absolute;
      border-radius: 999px;
      padding: 5px 9px;
      border: 1px solid rgba(15,23,42,0.12);
      background: rgba(248,250,252,0.9);
      color: #0f172a;
      font-size: 0.76rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      box-shadow: 0 6px 14px rgba(15,23,42,0.18);
      transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
      backdrop-filter: blur(4px);
    }

    .map-region span {
      font-size: 0.7rem;
      color: #6b7280;
    }

    .map-region:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(15,23,42,0.22);
      background: #ffffff;
    }

    .map-region.primary {
      background: #2563eb;
      color: #ffffff;
      border-color: #1d4ed8;
    }

    .map-region.primary span { color: #e0edff; }

    /* Posiciones aproximadas */
    .region-ibiza     { left: 82%; top: 76%; }
    .region-catalunya { left: 70%; top: 30%; }
    .region-madrid    { left: 53%; top: 45%; }
    .region-andalucia { left: 45%; top: 68%; }
    .region-paisvasco { left: 48%; top: 24%; }
    .region-valencia  { left: 63%; top: 50%; }

    .region-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .region-pill {
      border-radius: 999px;
      padding: 5px 10px;
      border: 1px solid var(--border);
      font-size: 0.8rem;
      background: #f9fafb;
      color: #374151;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .region-pill.primary {
      background: var(--primary);
      color: #ffffff;
      border-color: var(--primary);
    }

    .region-pill span {
      font-size: 0.75rem;
      color: var(--muted);
    }

    .info-note {
      font-size: 0.78rem;
      color: var(--muted);
      margin-top: 8px;
    }

    /* Panel de destinos */
    .dest-panel { display: none; margin-top: 18px; }
    .dest-panel.active { display: block; }

    .tag {
      display: inline-block;
      font-size: 0.72rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: #eff6ff;
      color: #1d4ed8;
      border: 1px solid #bfdbfe;
      margin-bottom: 4px;
    }

    ul {
      padding-left: 18px;
      margin: 4px 0 6px;
    }

    li + li { margin-top: 2px; }

    /* Switch plan gratuito / personalizado */
    .mode-switch {
      display: inline-flex;
      gap: 6px;
      padding: 3px;
      border-radius: 999px;
      background: #eff1f7;
      margin-top: 6px;
    }

    .mode-btn {
      border-radius: 999px;
      border: none;
      padding: 6px 12px;
      font-size: 0.82rem;
      cursor: pointer;
      background: transparent;
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .mode-btn.active {
      background: #ffffff;
      color: var(--text);
      box-shadow: 0 4px 10px rgba(15,23,42,0.08);
    }

    #ibz-basic, #ibz-custom { margin-top: 10px; }

    .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .pill {
      border-radius: 999px;
      padding: 3px 8px;
      border: 1px solid var(--border);
      font-size: 0.78rem;
      background: #f9fafb;
      color: var(--muted);
    }

    footer {
      border-top: 1px solid var(--border);
      background: #ffffff;
      padding: 14px 16px 18px;
      font-size: 0.78rem;
      color: var(--muted);
      text-align: center;
    }

    /* WIZARD DE CUESTIONARIO (pantalla completa) */
    .wizard-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
      padding: 10px;
    }

    .wizard-backdrop.active { display: flex; }

    .wizard {
      max-width: 520px;
      width: 100%;
      background: #f9fafb;
      border-radius: 24px;
      box-shadow: 0 26px 60px rgba(15,23,42,0.6);
      border: 1px solid var(--border);
      padding: 14px 16px 16px;
    }

    .wizard-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }

    .wizard-title {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--text);
    }

    .wizard-step-indicator {
      font-size: 0.78rem;
      color: var(--muted);
    }

    .wizard-close {
      border: none;
      background: transparent;
      font-size: 1.3rem;
      cursor: pointer;
      color: var(--muted);
    }

    .wizard-steps-bar {
      height: 4px;
      background: #e5e7eb;
      border-radius: 999px;
      overflow: hidden;
      margin-bottom: 10px;
    }

    .wizard-steps-bar-inner {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg,#2563eb,#22c55e);
      transition: width 0.2s ease;
    }

    .wizard-step {
      display: none;
    }

    .wizard-step.active {
      display: block;
    }

    .field {
      margin-bottom: 10px;
    }

    .field label {
      display: block;
      font-size: 0.86rem;
      margin-bottom: 3px;
      color: var(--text);
    }

    input[type="text"],
    input[type="email"],
    input[type="number"],
    select,
    textarea {
      width: 100%;
      padding: 7px 8px;
      border-radius: 10px;
      border: 1px solid var(--border);
      font-size: 0.9rem;
      background: #ffffff;
      color: var(--text);
      resize: vertical;
      min-height: 32px;
    }

    textarea { min-height: 70px; }

    .consent {
      font-size: 0.78rem;
      color: var(--muted);
      display: flex;
      align-items: flex-start;
      gap: 6px;
      margin-top: 4px;
    }

    .consent input { margin-top: 2px; }

    .wizard-footer {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }

    .wizard-nav {
      display: flex;
      gap: 6px;
    }

    .btn-small {
      border-radius: 999px;
      border: 1px solid var(--border);
      padding: 6px 13px;
      font-size: 0.8rem;
      cursor: pointer;
      background: #ffffff;
      color: var(--muted);
    }

    .btn-small.primary {
      background: var(--primary);
      border-color: var(--primary);
      color: #ffffff;
    }

    .wizard-note {
      font-size: 0.75rem;
      color: var(--muted);
    }

    .wizard-confirm {
      margin-top: 8px;
      font-size: 0.85rem;
      color: var(--accent);
      display: none;
    }

    @media (max-width: 720px) {
      .layout {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 520px) {
      .hero {
        padding-top: 16px;
      }
      .wizard {
        height: auto;
        max-height: 90vh;
        overflow: auto;
        border-radius: 18px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-inner">
      <div class="brand">
        <div class="brand-logo"></div>
        <div>
          <div class="brand-text-main">VIAJES ESPA√ëA IA</div>
          <div class="brand-text-sub">Mapa de Espa√±a ¬∑ Plan b√°sico ¬∑ Plan a medida</div>
        </div>
      </div>
      <div class="header-cta">
        <a href="#mapa">üó∫Ô∏è Ver mapa de Espa√±a</a>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="hero-top">
      <div>
        <div class="hero-badge">
          <span>‚ú®</span>
          <span>Prueba de concepto ¬∑ Viajes personalizados por Espa√±a</span>
        </div>
        <h1>Dise√±a el mejor viaje posible, empezando por Ibiza</h1>
        <p class="lead">
          Una p√°gina sencilla e interactiva para que cualquier persona pueda elegir destino,
          ver un plan b√°sico gratuito y, si quiere algo m√°s exclusivo, rellenar un cuestionario
          muy f√°cil que t√∫ recibir√°s por correo para crear un PDF de lujo en menos de 24 horas.
        </p>
        <div class="hero-actions">
          <button class="btn btn-primary" onclick="document.getElementById('mapa').scrollIntoView({behavior:'smooth'})">
            üó∫Ô∏è Explorar Espa√±a
          </button>
          <button class="btn btn-ghost" onclick="document.getElementById('dest-ibiza').scrollIntoView({behavior:'smooth'})">
            üå¥ Ir directamente a Ibiza
          </button>
        </div>
      </div>
    </div>
  </section>

  <main>
    <!-- MAPA ESPA√ëA -->
    <section id="mapa">
      <div class="layout">
        <div class="card">
          <h2>Mapa de Espa√±a (demo visual)</h2>
          <p style="margin-top:4px;">
            Haz clic en Ibiza para ver c√≥mo funcionar√° el sistema: plan b√°sico visible para todos
            y plan a medida a trav√©s de un cuestionario muy simple.
          </p>
          <div class="map-canvas">
            <button class="map-region region-ibiza primary" data-dest="ibiza">
              üå¥ Ibiza
              <span>Plan gratis + a medida</span>
            </button>

            <button class="map-region region-catalunya" data-dest="catalunya">
              üèôÔ∏è Catalunya
              <span>Pr√≥ximamente</span>
            </button>

            <button class="map-region region-madrid" data-dest="madrid">
              üåÜ Madrid
              <span>Pr√≥ximamente</span>
            </button>

            <button class="map-region region-andalucia" data-dest="andalucia">
              ‚òÄÔ∏è Andaluc√≠a
              <span>Pr√≥ximamente</span>
            </button>

            <button class="map-region region-paisvasco" data-dest="pais-vasco">
              üåä Pa√≠s Vasco
              <span>Pr√≥ximamente</span>
            </button>

            <button class="map-region region-valencia" data-dest="valencia">
              üå¥ C. Valenciana
              <span>Pr√≥ximamente</span>
            </button>
          </div>
        </div>

        <div class="card">
          <h2>Elige comunidad aut√≥noma</h2>
          <p style="margin-top:4px;">
            De momento, solo Ibiza (Islas Baleares) est√° activa como ejemplo completo.
            El resto se puede ir activando m√°s adelante siguiendo el mismo modelo.
          </p>
          <div class="region-list">
            <button class="region-pill primary" data-dest="ibiza">üå¥ Ibiza (Islas Baleares)</button>
            <span class="region-pill">üèôÔ∏è Catalunya <span>(pr√≥ximamente)</span></span>
            <span class="region-pill">üåÜ Comunidad de Madrid <span>(pr√≥ximamente)</span></span>
            <span class="region-pill">‚òÄÔ∏è Andaluc√≠a <span>(pr√≥ximamente)</span></span>
            <span class="region-pill">üåä Pa√≠s Vasco <span>(pr√≥ximamente)</span></span>
            <span class="region-pill">üå¥ Comunidad Valenciana <span>(pr√≥ximamente)</span></span>
          </div>
          <p class="info-note">
            Haz clic en <strong>Ibiza</strong> para ver el flujo completo: plan b√°sico + cuestionario
            a medida con env√≠o de respuestas a tu correo.
          </p>
        </div>
      </div>
    </section>

    <!-- IBIZA -->
    <section id="dest-ibiza" class="dest-panel active">
      <div class="card">
        <span class="tag">Ejemplo real</span>
        <h2>üå¥ Ibiza ¬∑ Plan b√°sico y plan a medida</h2>
        <p>
          Aqu√≠ se ve exactamente lo que quieres construir: un plan b√°sico que todo el mundo puede consultar
          y un plan personalizado donde la persona rellena un cuestionario sencillo. T√∫ recibes las respuestas
          por correo para preparar un PDF bonito y exclusivo.
        </p>
        <div class="mode-switch" aria-label="Seleccionar modo">
          <button class="mode-btn active" data-mode="basic">üí° Plan b√°sico</button>
          <button class="mode-btn" data-mode="custom">ü§µ‚Äç‚ôÄÔ∏è Plan a medida</button>
        </div>

        <!-- PLAN B√ÅSICO -->
        <div id="ibz-basic">
          <div style="margin-top:10px;">
            <h3>Zonas y alojamientos por presupuesto</h3>
            <ul>
              <li><strong>Presupuesto bajo:</strong> hostales tipo Ceibo Ibiza, Hostal Giramundo, Hostal Juanita en Ibiza ciudad; opciones sencillas en Es Canar.</li>
              <li><strong>Presupuesto medio:</strong> hoteles 3‚Äì4‚òÖ cerca de Ibiza ciudad, San Antonio o Playa d‚Äôen Bossa.</li>
              <li><strong>Presupuesto alto:</strong> hoteles club como Destino Five Ibiza, o grandes resorts en Playa d‚Äôen Bossa.</li>
              <li><strong>Lujo:</strong> Six Senses Ibiza y villas privadas en zonas tranquilas del norte.</li>
            </ul>
          </div>
          <div style="margin-top:8px;">
            <h3>Planes t√≠picos que funcionan muy bien</h3>
            <ul>
              <li><strong>Calas + atardecer:</strong> zona oeste (Es Vedr√†, San Antonio) para puestas de sol espectaculares.</li>
              <li><strong>Playas tranquilas:</strong> norte y este de la isla (Portinatx, zonas cerca de Santa Eulalia).</li>
              <li><strong>Excursi√≥n a Formentera:</strong> ferry ida y vuelta en el d√≠a, muy habitual.</li>
              <li><strong>Boat trips:</strong> salidas en barco desde San Antonio o Ibiza ciudad con paradas para ba√±o y snorkel.</li>
              <li><strong>Fiesta:</strong> grandes discotecas como Ushua√Øa, H√Ø Ibiza, Pacha, Amnesia (en temporada), y beach clubs de tarde.</li>
            </ul>
          </div>
        </div>

        <!-- PLAN A MEDIDA -->
        <div id="ibz-custom" style="display:none; margin-top:8px;">
          <h3>Plan a medida con revisi√≥n manual</h3>
          <p>
            Si alguien quiere algo muy ajustado, puede rellenar un cuestionario guiado en pantalla completa (pocas
            preguntas por paso). Al terminar:
          </p>
          <div class="pill-list">
            <span class="pill">üì© Sus respuestas se preparan en un correo</span>
            <span class="pill">üîí El correo va directamente a tu bandeja privada</span>
            <span class="pill">üïí El usuario ver√° que recibir√° el plan en m√°ximo 1 d√≠a</span>
          </div>
          <p style="margin-top:8px;">
            T√∫ solo tienes que abrir ese correo, crear un PDF con un dise√±o elegante y responder al cliente desde tu
            cuenta corporativa.
          </p>
          <button class="btn btn-primary" id="open-wizard" style="margin-top:6px;">
            ‚úçÔ∏è Empezar cuestionario para Ibiza
          </button>
          <p style="margin-top:8px; font-size:0.8rem; color:var(--muted);">
            Si al cliente no le llega tu respuesta, aqu√≠ se muestra siempre el correo de contacto:
            <strong><a href="mailto:tu-email-corporativo@tudominio.com">tu-email-corporativo@tudominio.com</a></strong>.
          </p>
        </div>
      </div>
    </section>

    <!-- Otros destinos (placeholder) -->
    <section id="dest-catalunya" class="dest-panel">
      <div class="card">
        <span class="tag">Pr√≥ximamente</span>
        <h2>üèôÔ∏è Catalunya</h2>
        <p>Aqu√≠ podr√≠as repetir el modelo con Barcelona, Costa Brava, Pirineos, etc.</p>
      </div>
    </section>

    <section id="dest-madrid" class="dest-panel">
      <div class="card">
        <span class="tag">Pr√≥ximamente</span>
        <h2>üåÜ Comunidad de Madrid</h2>
        <p>Planes urbanos, cultura, gastronom√≠a y ocio nocturno.</p>
      </div>
    </section>

    <section id="dest-andalucia" class="dest-panel">
      <div class="card">
        <span class="tag">Pr√≥ximamente</span>
        <h2>‚òÄÔ∏è Andaluc√≠a</h2>
        <p>Sevilla, M√°laga, Granada, costa y pueblos blancos.</p>
      </div>
    </section>

    <section id="dest-pais-vasco" class="dest-panel">
      <div class="card">
        <span class="tag">Pr√≥ximamente</span>
        <h2>üåä Pa√≠s Vasco</h2>
        <p>Gastronom√≠a, naturaleza y ciudades como Bilbao y Donostia.</p>
      </div>
    </section>

    <section id="dest-valencia" class="dest-panel">
      <div class="card">
        <span class="tag">Pr√≥ximamente</span>
        <h2>üå¥ Comunidad Valenciana</h2>
        <p>Valencia, Alicante, Castell√≥n, costa y fiestas.</p>
      </div>
    </section>
  </main>

  <footer>
    Demo de concepto ¬∑ Viajes Espa√±a IA ¬∑ Para producci√≥n, conecta esto a un backend con IA y revisa textos legales y privacidad con un profesional.
  </footer>

  <!-- WIZARD DE CUESTIONARIO -->
  <div class="wizard-backdrop" id="wizard-backdrop" aria-hidden="true">
    <div class="wizard" role="dialog" aria-modal="true" aria-labelledby="wizard-title">
      <div class="wizard-header">
        <div>
          <div class="wizard-title" id="wizard-title">Cuestionario para tu viaje a Ibiza</div>
          <div class="wizard-step-indicator">
            Paso <span id="wizard-step-num">1</span> de <span id="wizard-step-total">4</span>
          </div>
        </div>
        <button class="wizard-close" id="wizard-close" aria-label="Cerrar">√ó</button>
      </div>
      <div class="wizard-steps-bar">
        <div class="wizard-steps-bar-inner" id="wizard-progress"></div>
      </div>

      <form id="wizard-form">
        <!-- PASO 1: Datos b√°sicos -->
        <div class="wizard-step" data-step="1">
          <div class="field">
            <label for="w-nombre">Tu nombre</label>
            <input type="text" id="w-nombre" name="nombre" required />
          </div>
          <div class="field">
            <label for="w-email">Tu email (donde recibir√°s el PDF)</label>
            <input type="email" id="w-email" name="email" required />
          </div>
          <div class="field">
            <label for="w-origen">Ciudad / pa√≠s de origen</label>
            <input type="text" id="w-origen" name="origen" required />
          </div>
        </div>

        <!-- PASO 2: Fechas y grupo -->
        <div class="wizard-step" data-step="2">
          <div class="field">
            <label for="w-dias">¬øCu√°ntos d√≠as quieres viajar a Ibiza?</label>
            <input type="number" id="w-dias" name="dias" min="1" max="30" required />
          </div>
          <div class="field">
            <label for="w-personas">N√∫mero total de personas</label>
            <input type="number" id="w-personas" name="personas" min="1" max="20" required />
          </div>
          <div class="field">
            <label for="w-perfil">¬øCon qui√©n viajas?</label>
            <select id="w-perfil" name="perfil" required>
              <option value="">Selecciona una opci√≥n</option>
              <option value="pareja">En pareja</option>
              <option value="amigos">Con amigos</option>
              <option value="familia">En familia</option>
              <option value="solo">Viaje individual</option>
            </select>
          </div>
        </div>

        <!-- PASO 3: Estilo del viaje -->
        <div class="wizard-step" data-step="3">
          <div class="field">
            <label for="w-energia">¬øC√≥mo quieres que sea el ritmo del viaje?</label>
            <select id="w-energia" name="energia" required>
              <option value="">Selecciona una opci√≥n</option>
              <option value="muytranquilo">Muy tranquilo (descanso total)</option>
              <option value="tranquilo">Tranquilo (calas y alg√∫n plan suave)</option>
              <option value="equilibrado">Equilibrado (algo de fiesta y algo de relax)</option>
              <option value="intenso">Intenso (mucha fiesta / actividad)</option>
            </select>
          </div>
          <div class="field">
            <label for="w-presupuesto">Presupuesto aproximado por persona (sin vuelos)</label>
            <select id="w-presupuesto" name="presupuesto" required>
              <option value="">Selecciona una opci√≥n</option>
              <option value="bajo">Ajustado</option>
              <option value="medio">Medio</option>
              <option value="alto">C√≥modo / alto</option>
            </select>
          </div>
          <div class="field">
            <label for="w-asistencia">¬øNecesitas actividades adaptadas o asistencia especial?</label>
            <select id="w-asistencia" name="asistencia" required>
              <option value="">Selecciona una opci√≥n</option>
              <option value="no">No</option>
              <option value="movilidad">S√≠, movilidad reducida</option>
              <option value="sensorial">S√≠, adaptaci√≥n sensorial</option>
              <option value="salud">S√≠, condici√≥n m√©dica relevante</option>
              <option value="otros">Otros</option>
            </select>
          </div>
        </div>

        <!-- PASO 4: Intereses y consentimiento -->
        <div class="wizard-step" data-step="4">
          <div class="field">
            <label for="w-intereses">¬øQu√© te apetece? (cu√©ntalo con tus palabras)</label>
            <textarea id="w-intereses" name="intereses" placeholder="Ej: algo de fiesta pero tambi√©n calas tranquilas, un d√≠a en barco, un buen restaurante..."></textarea>
          </div>
          <div class="consent">
            <input type="checkbox" id="w-consent" required />
            <label for="w-consent">
              Acepto que mis datos se utilicen para que se prepare un plan personalizado de viaje a Ibiza y se me env√≠e
              por email. Entiendo que lo recibir√© en un m√°ximo de 1 d√≠a.
            </label>
          </div>
        </div>

        <div class="wizard-footer">
          <div class="wizard-note">
            Tras terminar, se abrir√° un correo preparado con tus respuestas. Solo tendr√°s que pulsar ‚ÄúEnviar‚Äù.
          </div>
          <div class="wizard-nav">
            <button type="button" class="btn-small" id="wizard-prev">Atr√°s</button>
            <button type="button" class="btn-small primary" id="wizard-next">Siguiente</button>
            <button type="submit" class="btn-small primary" id="wizard-submit" style="display:none;">Enviar cuestionario</button>
          </div>
        </div>

        <div class="wizard-confirm" id="wizard-confirm">
          ¬°Perfecto! Se ha preparado un correo con tu cuestionario.
          En cuanto lo env√≠es, recibir√°s tu plan en un m√°ximo de 1 d√≠a.
          Si no te llega, escribe a
          <strong><a href="mailto:tu-email-corporativo@tudominio.com">tu-email-corporativo@tudominio.com</a></strong>.
        </div>
      </form>
    </div>
  </div>

  <script>
    // -------------------------
    // Cambio de destino (mapa / lista)
    // -------------------------
    const destPanels = document.querySelectorAll('.dest-panel');
    const mapRegions = document.querySelectorAll('.map-region[data-dest]');
    const regionPills = document.querySelectorAll('.region-pill[data-dest]');

    function showDestination(dest) {
      destPanels.forEach(panel => {
        panel.classList.toggle('active', panel.id === 'dest-' + dest);
      });
      const target = document.getElementById('dest-' + dest);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }

    [...mapRegions, ...regionPills].forEach(btn => {
      btn.addEventListener('click', () => {
        const dest = btn.getAttribute('data-dest');
        if (dest) showDestination(dest);
      });
    });

    // -------------------------
    // Switch plan b√°sico / a medida (Ibiza)
    // -------------------------
    const modeButtons = document.querySelectorAll('.mode-btn');
    const ibzBasic = document.getElementById('ibz-basic');
    const ibzCustom = document.getElementById('ibz-custom');

    modeButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const mode = btn.getAttribute('data-mode');
        modeButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        if (mode === 'basic') {
          ibzBasic.style.display = 'block';
          ibzCustom.style.display = 'block'; // mostramos ambos, pero el foco est√° en b√°sico
          ibzCustom.style.display = 'none';
        } else {
          ibzBasic.style.display = 'none';
          ibzCustom.style.display = 'block';
        }
      });
    });

    // Ajuste inicial: mostrar b√°sico
    ibzBasic.style.display = 'block';
    ibzCustom.style.display = 'none';

    // -------------------------
    // Wizard (cuestionario paso a paso)
    // -------------------------
    const wizardBackdrop = document.getElementById('wizard-backdrop');
    const openWizardBtn = document.getElementById('open-wizard');
    const closeWizardBtn = document.getElementById('wizard-close');
    const wizardForm = document.getElementById('wizard-form');
    const wizardSteps = wizardForm ? Array.from(wizardForm.querySelectorAll('.wizard-step')) : [];
    const wizardStepNumEl = document.getElementById('wizard-step-num');
    const wizardStepTotalEl = document.getElementById('wizard-step-total');
    const wizardPrev = document.getElementById('wizard-prev');
    const wizardNext = document.getElementById('wizard-next');
    const wizardSubmit = document.getElementById('wizard-submit');
    const wizardProgress = document.getElementById('wizard-progress');
    const wizardConfirm = document.getElementById('wizard-confirm');
    let currentStep = 0;

    if (wizardStepTotalEl) wizardStepTotalEl.textContent = String(wizardSteps.length);

    function updateWizardUI() {
      wizardSteps.forEach((step, idx) => {
        step.classList.toggle('active', idx === currentStep);
      });
      if (wizardStepNumEl) wizardStepNumEl.textContent = String(currentStep + 1);
      if (wizardPrev) wizardPrev.style.display = currentStep === 0 ? 'none' : 'inline-flex';
      if (wizardNext) wizardNext.style.display = currentStep === wizardSteps.length - 1 ? 'none' : 'inline-flex';
      if (wizardSubmit) wizardSubmit.style.display = currentStep === wizardSteps.length - 1 ? 'inline-flex' : 'none';
      if (wizardProgress && wizardSteps.length > 0) {
        const percent = ((currentStep + 1) / wizardSteps.length) * 100;
        wizardProgress.style.width = percent + '%';
      }
    }

    function validateCurrentStep() {
      const step = wizardSteps[currentStep];
      if (!step) return true;
      const inputs = step.querySelectorAll('input, select, textarea');
      for (const el of inputs) {
        if (!el.checkValidity()) {
          el.reportValidity();
          return false;
        }
      }
      return true;
    }

    function resetWizard() {
      currentStep = 0;
      wizardConfirm.style.display = 'none';
      wizardForm.reset();
      updateWizardUI();
    }

    if (openWizardBtn && wizardBackdrop) {
      openWizardBtn.addEventListener('click', () => {
        wizardBackdrop.classList.add('active');
        wizardBackdrop.setAttribute('aria-hidden', 'false');
        resetWizard();
      });
    }

    if (closeWizardBtn && wizardBackdrop) {
      closeWizardBtn.addEventListener('click', () => {
        wizardBackdrop.classList.remove('active');
        wizardBackdrop.setAttribute('aria-hidden', 'true');
      });
    }

    if (wizardBackdrop) {
      wizardBackdrop.addEventListener('click', (e) => {
        if (e.target === wizardBackdrop) {
          wizardBackdrop.classList.remove('active');
          wizardBackdrop.setAttribute('aria-hidden', 'true');
        }
      });
    }

    if (wizardPrev) {
      wizardPrev.addEventListener('click', () => {
        if (currentStep > 0) {
          currentStep -= 1;
          updateWizardUI();
        }
      });
    }

    if (wizardNext) {
      wizardNext.addEventListener('click', () => {
        if (!validateCurrentStep()) return;
        if (currentStep < wizardSteps.length - 1) {
          currentStep += 1;
          updateWizardUI();
        }
      });
    }

    if (wizardForm) {
      updateWizardUI();

      wizardForm.addEventListener('submit', (e) => {
        e.preventDefault();
        if (!validateCurrentStep()) return;

        const data = new FormData(wizardForm);
        const nombre = data.get('nombre') || '';
        const email = data.get('email') || '';
        const origen = data.get('origen') || '';
        const dias = data.get('dias') || '';
        const personas = data.get('personas') || '';
        const perfil = data.get('perfil') || '';
        const energia = data.get('energia') || '';
        const presupuesto = data.get('presupuesto') || '';
        const asistencia = data.get('asistencia') || '';
        const intereses = data.get('intereses') || '';

        if (!nombre || !email || !origen || !dias || !personas || !perfil || !energia || !presupuesto || !asistencia) {
          // Por si acaso no ha validado algo
          return;
        }

        const texto = `
Nuevo cuestionario recibido ‚Äì Ibiza

Nombre: ${nombre}
Email de la persona: ${email}
Origen: ${origen}

Duraci√≥n del viaje (d√≠as): ${dias}
N√∫mero de personas: ${personas}
Tipo de viaje (perfil): ${perfil}
Nivel de energ√≠a deseado: ${energia}
Presupuesto por persona (sin vuelos): ${presupuesto}
Necesidad de asistencia/adaptaci√≥n: ${asistencia}

Intereses / comentarios:
${intereses || '(no especificado)'}

Acci√≥n para ti:
Crea un PDF bonito, claro y lujoso con este perfil de viaje a Ibiza y env√≠alo a esta persona en un m√°ximo de 24 horas.
Puedes incluir:
- recomendaci√≥n de zona y alojamientos,
- propuesta de itinerario por d√≠as,
- actividades adaptadas a su perfil y presupuesto,
- enlaces a hoteles / actividades / fiestas para reservar.
        `;

        // ‚ö†Ô∏è CAMBIA ESTE CORREO POR TU CORREO REAL
        const destinatario = 'miagenciaibiza@gmail.com';
        const asunto = encodeURIComponent('Nuevo cuestionario Ibiza ‚Äì Viajes Espa√±a IA');
        const cuerpo = encodeURIComponent(texto);

        window.location.href = `mailto:${destinatario}?subject=${asunto}&body=${cuerpo}`;

        wizardConfirm.style.display = 'block';
      });
    }

    // Inicialmente mostrar Ibiza
    showDestination('ibiza');
  </script>
</body>
</html>
